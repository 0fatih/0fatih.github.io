I"Á<p>Simple Mail Transfer Protocol (Basit Mail Ä°letim ProtokolÃ¼), bilgisayarlarÄ±mÄ±zÄ±n 25. portu Ã¼stÃ¼nde Ã§alÄ±ÅŸÄ±r. Sadece e-mail gÃ¶ndermek iÃ§in kullanÄ±labilir. E-mail almak iÃ§in ise IMAP veya POP3 gibi protokoller kullanmamÄ±z gerekir.</p>

<p>Bu protokolÃ¼n iÃ§erisinde bazÄ± komutlar vardÄ±r. Onlar ise ÅŸu ÅŸekilde:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HELO - Sunucuyu selamlamak iÃ§in kullanÄ±lÄ±r. IP adresi veya Domain adresi belirtir
EHLO - Extended SMTP(ESMTP) destekleyen sunucular iÃ§in HELO'ya alternatif olarak kullanÄ±lÄ±r.
STARTTLS - KarÅŸÄ± taraftan 220 durum kodu ile TLS ÅŸifrelemesi altÄ±nda konuÅŸmaya baÅŸlanabilir.
RCPT - AlÄ±cÄ± belirtmek iÃ§in kullanÄ±lÄ±r.
DATA - Veri gÃ¶ndermek iÃ§in kullanÄ±lÄ±r.
RSET - GeÃ§erli e-posta iÅŸlemini iptal etmek iÃ§in kullanÄ±lÄ±r.
MAIL - GÃ¶nderenin mailini belirtmek iÃ§in kullanÄ±lÄ±r.
QUIT - BaÄŸlantÄ±yÄ± sonlandÄ±rÄ±r.
HELP - YardÄ±m ekranÄ±nÄ± elde etmek iÃ§in kullanÄ±lÄ±r.
AUTH - Ä°stemcinin kimliÄŸini sunucuya onaylatmak iÃ§in kullanÄ±lÄ±r.
VRFY - E-mail veritabanÄ±nda bir e-mailin olup olmadÄ±ÄŸÄ±nÄ± Ã¶ÄŸrenmek iÃ§in kullanÄ±lÄ±r.
</code></pre></div></div>

<p>Protokol hakkÄ±nda vereceÄŸim bilgiler bu kadardÄ±. Daha fazlasÄ±nÄ± Ã¶ÄŸrenmek isterseniz <a href="https://blog.mailtrap.io/smtp-commands-and-responses/">buradan</a> Ã¶ÄŸrenebilirsiniz.</p>

<p>Åimdi, biraz daha gÃ¼venlik tarafÄ±ndan bakalÄ±m. VRFY(verify) isimli komutumuzun, e-maillerin varlÄ±ÄŸÄ±nÄ± doÄŸruladÄ±ÄŸÄ±nÄ± belirtmiÅŸtim. Bunun sayesinde eÄŸer ÅŸÃ¼phelendiÄŸimiz bir mail varsa teyit edebilir, yoksa da brute force gibi yÃ¶ntemler ile e-mailleri elde edebiliriz.</p>

<p>Bunun iÃ§in bir Ã¶rnek vereyim. Ã–ncelikle hedefimizin IPâ€™si 192.100.0.5 ve 25. portu da aÃ§Ä±k olsun. Netcat veya Telnet benzeri araÃ§lar ile karÅŸÄ± tarafa baÄŸlanalÄ±m:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nc 192.100.0.05 25

220 metasploitable.localdomain ESMTP Postfix (Ubuntu)
</code></pre></div></div>

<p>BaÄŸlantÄ± baÅŸarÄ±lÄ± olursa yukarÄ±daki gibi karÅŸÄ± taraf bize kendisini tanÄ±tacak. Daha sonrasÄ±nda,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>VRFY root
252 2.0.0 root
VRFY rooot
550 5.1.1 &lt;rooot&gt;: Recipient address rejected: User unknown in local recipient table
</code></pre></div></div>

<p>ÅŸeklinde iki adet sorgulama yaptÄ±k. â€œrootâ€ adlÄ± sorgumuz baÅŸarÄ±lÄ± oldu ve â€œ252 2.0.0 rootâ€ dÃ¶nÃ¼tÃ¼nÃ¼ aldÄ±k. Ancak, ikinci sorgumuz baÅŸarÄ±sÄ±z oldu. Ã‡Ã¼nkÃ¼ sistemde kayÄ±tlÄ± â€œroootâ€ isimli bir mail bulunamadÄ±.</p>

<p>Bu ÅŸekilde e-mailleri sorgulayabiliriz. Ancak, sizinde farkedeceÄŸiniz gibi genel taramalarda pek mantÄ±klÄ± bir yÃ¶ntem deÄŸil. Buna Ã§Ã¶zÃ¼m olarak Metasploitâ€™in â€œauxiliary/scanner/smtp/smtp_enumâ€ modÃ¼lÃ¼ kullanÄ±labilir.</p>

<p>AyrÄ±ca, pentestmonkeyâ€™in <a href="https://github.com/pentestmonkey/smtp-user-enum">smtp-user-enum</a> isimli aracÄ±nÄ± da kullanabilirsiniz.</p>

<p>Bir baÅŸka yazÄ±da gÃ¶rÃ¼ÅŸmek Ã¼zereâ€¦</p>

<p><strong>Fatih Furkan HatipoÄŸlu</strong></p>

<p>Â </p>

<p>Bana bu kadar bilgi yetmez, daha fazlasÄ±nÄ± istiyorum diyenler iÃ§in birkaÃ§ tavsiye kaynak:</p>

<p><a href="http://null-byte.wonderhowto.com/how-to/hack-like-pro-extract-email-addresses-from-smtp-server-0160814/">Null-Byte -Hack Like Pro Extract E-mail Adresses From SMTP Server</a></p>

<p><a href="http://www.dummies.com/how-to/content/smtp-hacks-and-how-to-guard-against-them.html">Dummies - SMTP Hacks and How to Guard Against Them</a></p>

<p><a href="https://pentestlab.wordpress.com/2012/11/20/smtp-user-enumeration/">Pentestlab - SMTP User Enumeration</a>
Â </p>
:ET